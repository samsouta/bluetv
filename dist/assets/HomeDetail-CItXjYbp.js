import{c as y,G as M,r as x,j as r,q as $,T as O,C as X,t as E,o as W,X as q,D as B,E as J,F as Z,y as Q,H as G}from"./index-BJ3nLALq.js";import{_ as L,D as K,E as ee,F as te,C as ne,G as ae}from"./FormatDuration-D_Rm8Nq6.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=y("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=y("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=y("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=y("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=y("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=y("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=y("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);function me(e){return M({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function he(e){return M({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function fe(e){return M({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M426.8 64H85.2C73.5 64 64 73.5 64 85.2v341.6c0 11.7 9.5 21.2 21.2 21.2H256V296h-45.9v-56H256v-41.4c0-49.6 34.4-76.6 78.7-76.6 21.2 0 44 1.6 49.3 2.3v51.8h-35.3c-24.1 0-28.7 11.4-28.7 28.2V240h57.4l-7.5 56H320v152h106.8c11.7 0 21.2-9.5 21.2-21.2V85.2c0-11.7-9.5-21.2-21.2-21.2z"},child:[]}]})(e)}function ge(e){return M({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6-18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6.8 15 2.5 22.1-80.5-4-151.9-42.6-199.6-101.3-8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7-16-.4-31-4.8-44-12.1v1.2c0 47 33.4 86.1 77.7 95-8.1 2.2-16.7 3.4-25.5 3.4-6.2 0-12.3-.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3-33.1 26-74.9 41.5-120.3 41.5-7.8 0-15.5-.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-.1-8.4-.3-12.5C462.6 146 479 129 492 109.5z"},child:[]}]})(e)}function xe(e){return M({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(e)}const pe=({setIsModalOpen:e})=>{const n=()=>{e(!1)},t=()=>{const i="Visit our website: https://bluetvv.netlify.app/";if(navigator.clipboard)navigator.clipboard.writeText(i).then(()=>alert("Website link copied to clipboard!")).catch(l=>console.error("Failed to copy text: ",l));else{const l=document.createElement("textarea");l.value=i,document.body.appendChild(l),l.select(),l.setSelectionRange(0,99999);try{document.execCommand("copy"),alert("Website link copied to clipboard!")}catch(d){console.error("Fallback: Oops, unable to copy",d)}document.body.removeChild(l)}},a="https://bluetvv.netlify.app/",s=`whatsapp://send?text=${encodeURIComponent(a)}`,o=`twitter://post?message=${encodeURIComponent(a)}`,c=`fb://share?u=${encodeURIComponent(a)}`;return r.jsx(r.Fragment,{children:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:r.jsxs("div",{className:"bg-white p-4 rounded-lg w-11/12 max-w-md text-black",children:[r.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Share this video"}),r.jsxs("div",{className:"flex flex-wrap justify-between mb-3",children:[r.jsxs("button",{className:"flex items-center gap-2 bg-green-500 p-2 rounded-lg text-white",onClick:()=>window.open(s,"_blank"),children:[r.jsx(xe,{})," WhatsApp"]}),r.jsxs("button",{className:"flex items-center gap-2 bg-blue-500 p-2 rounded-lg text-white",onClick:()=>window.open(o,"_blank"),children:[r.jsx(ge,{})," Twitter"]}),r.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 p-2 rounded-lg text-white",onClick:()=>window.open(c,"_blank"),children:[r.jsx(fe,{})," Facebook"]})]}),r.jsxs("button",{className:"flex items-center gap-2 bg-gray-200 p-2 rounded-lg w-full justify-center",onClick:t,children:[r.jsx(me,{})," Copy Link"]}),r.jsx("button",{className:"mt-3 bg-red-500 p-2 rounded-lg text-white w-full",onClick:n,children:"Close"})]})})})},be=x.memo(pe),ye=(e,n)=>{if(n===0)return"0%";const a=e/n/5*100;return`${Math.round(a)}%`},we=({isLoading:e,id:n,item:t})=>{const a=$(),s=()=>{a(`/video/${n}`),window.location.reload()};return e?r.jsx(O,{}):r.jsx("div",{className:"px-2",children:r.jsx(L,{height:100,offset:100,once:!0,children:r.jsxs(K,{isFooterBlurred:!0,radius:"lg",className:"border-none rounded-lg bg-[#6b8784] w-full h-[250px] sm:h-[300px] md:h-[300px] lg:h-[300px] overflow-hidden transition-all duration-300 ease-in-out",children:[r.jsx("iframe",{src:`${t==null?void 0:t.url}?autoplay=0`,className:"w-full h-full",title:"Video Player",allowFullScreen:!0}),r.jsx(ee,{className:"before:bg-white/10 border-white/10 border-1 overflow-hidden py-1 absolute before:rounded-xl rounded-large bottom-1 w-[calc(100%_-_8px)] shadow-xs ml-1 z-10",children:r.jsxs("div",{className:"w-full h-full",children:[r.jsx("h5",{className:"text-[1rem] custom-header text-[#ffffff]",children:te(t==null?void 0:t.duration)}),r.jsx("div",{children:r.jsx("p",{className:"w-full text-sm p-text text-white line-clamp-2",children:t==null?void 0:t.title})})]})}),r.jsx("div",{onClick:s,className:"bg-transparent w-full h-full absolute bottom-0 left-1/2 transform -translate-x-1/2 cursor-pointer","aria-label":`Go to detail page for ${t==null?void 0:t.title}`})]})})})},ve=x.memo(we),_=6e4,H=36e5,D=43200,A=1440,V=Symbol.for("constructDateFrom");function S(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&V in e?e[V](n):e instanceof Date?new e.constructor(n):new Date(n)}function f(e,n){return S(e,e)}let je={};function Ne(){return je}function z(e){const n=f(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function I(e,...n){const t=S.bind(null,e||n.find(a=>typeof a=="object"));return n.map(t)}function C(e,n){const t=+f(e)-+f(n);return t<0?-1:t>0?1:t}function Me(e){return S(e,Date.now())}function De(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ke(e){return!(!De(e)&&typeof e!="number"||isNaN(+f(e)))}function Ce(e,n,t){const[a,s]=I(t==null?void 0:t.in,e,n),o=a.getFullYear()-s.getFullYear(),c=a.getMonth()-s.getMonth();return o*12+c}function Se(e){return n=>{const a=(e?Math[e]:Math.trunc)(n);return a===0?0:a}}function Pe(e,n){return+f(e)-+f(n)}function Te(e,n){const t=f(e);return t.setHours(23,59,59,999),t}function Fe(e,n){const t=f(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function Ie(e,n){const t=f(e);return+Te(t)==+Fe(t)}function We(e,n,t){const[a,s,o]=I(t==null?void 0:t.in,e,e,n),c=C(s,o),i=Math.abs(Ce(s,o));if(i<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-c*i);let l=C(s,o)===-c;Ie(a)&&i===1&&C(a,o)===1&&(l=!1);const d=c*(i-+l);return d===0?0:d}function Ae(e,n,t){const a=Pe(e,n)/1e3;return Se(t==null?void 0:t.roundingMethod)(a)}const Ve={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ze=(e,n,t)=>{let a;const s=Ve[e];return typeof s=="string"?a=s:n===1?a=s.one:a=s.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function T(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const Oe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Le={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},He={date:T({formats:Oe,defaultWidth:"full"}),time:T({formats:Le,defaultWidth:"full"}),dateTime:T({formats:_e,defaultWidth:"full"})},Re={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ue=(e,n,t,a)=>Re[e];function v(e){return(n,t)=>{const a=t!=null&&t.context?String(t.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,i=t!=null&&t.width?String(t.width):c;s=e.formattingValues[i]||e.formattingValues[c]}else{const c=e.defaultWidth,i=t!=null&&t.width?String(t.width):e.defaultWidth;s=e.values[i]||e.values[c]}const o=e.argumentCallback?e.argumentCallback(n):n;return s[o]}}const Ye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Be={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Je=(e,n)=>{const t=Number(e),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Ze={ordinalNumber:Je,era:v({values:Ye,defaultWidth:"wide"}),quarter:v({values:$e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:v({values:Xe,defaultWidth:"wide"}),day:v({values:Ee,defaultWidth:"wide"}),dayPeriod:v({values:qe,defaultWidth:"wide",formattingValues:Be,defaultFormattingWidth:"wide"})};function j(e){return(n,t={})=>{const a=t.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],o=n.match(s);if(!o)return null;const c=o[0],i=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(i)?Ge(i,h=>h.test(c)):Qe(i,h=>h.test(c));let d;d=e.valueCallback?e.valueCallback(l):l,d=t.valueCallback?t.valueCallback(d):d;const u=n.slice(c.length);return{value:d,rest:u}}}function Qe(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function Ge(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function Ke(e){return(n,t={})=>{const a=n.match(e.matchPattern);if(!a)return null;const s=a[0],o=n.match(e.parsePattern);if(!o)return null;let c=e.valueCallback?e.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;const i=n.slice(s.length);return{value:c,rest:i}}}const et=/^(\d+)(th|st|nd|rd)?/i,tt=/\d+/i,nt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},at={any:[/^b/i,/^(a|c)/i]},rt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},st={any:[/1/i,/2/i,/3/i,/4/i]},it={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ot={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ct={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ut={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mt={ordinalNumber:Ke({matchPattern:et,parsePattern:tt,valueCallback:e=>parseInt(e,10)}),era:j({matchPatterns:nt,defaultMatchWidth:"wide",parsePatterns:at,defaultParseWidth:"any"}),quarter:j({matchPatterns:rt,defaultMatchWidth:"wide",parsePatterns:st,defaultParseWidth:"any",valueCallback:e=>e+1}),month:j({matchPatterns:it,defaultMatchWidth:"wide",parsePatterns:ot,defaultParseWidth:"any"}),day:j({matchPatterns:ct,defaultMatchWidth:"wide",parsePatterns:lt,defaultParseWidth:"any"}),dayPeriod:j({matchPatterns:dt,defaultMatchWidth:"any",parsePatterns:ut,defaultParseWidth:"any"})},ht={code:"en-US",formatDistance:ze,formatLong:He,formatRelative:Ue,localize:Ze,match:mt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ft(e,n,t){const a=Ne(),s=(t==null?void 0:t.locale)??a.locale??ht,o=2520,c=C(e,n);if(isNaN(c))throw new RangeError("Invalid time value");const i=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:c}),[l,d]=I(t==null?void 0:t.in,...c>0?[n,e]:[e,n]),u=Ae(d,l),h=(z(d)-z(l))/1e3,m=Math.round((u-h)/60);let p;if(m<2)return t!=null&&t.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,i):u<10?s.formatDistance("lessThanXSeconds",10,i):u<20?s.formatDistance("lessThanXSeconds",20,i):u<40?s.formatDistance("halfAMinute",0,i):u<60?s.formatDistance("lessThanXMinutes",1,i):s.formatDistance("xMinutes",1,i):m===0?s.formatDistance("lessThanXMinutes",1,i):s.formatDistance("xMinutes",m,i);if(m<45)return s.formatDistance("xMinutes",m,i);if(m<90)return s.formatDistance("aboutXHours",1,i);if(m<A){const g=Math.round(m/60);return s.formatDistance("aboutXHours",g,i)}else{if(m<o)return s.formatDistance("xDays",1,i);if(m<D){const g=Math.round(m/A);return s.formatDistance("xDays",g,i)}else if(m<D*2)return p=Math.round(m/D),s.formatDistance("aboutXMonths",p,i)}if(p=We(d,l),p<12){const g=Math.round(m/D);return s.formatDistance("xMonths",g,i)}else{const g=p%12,w=Math.trunc(p/12);return g<3?s.formatDistance("aboutXYears",w,i):g<9?s.formatDistance("overXYears",w,i):s.formatDistance("almostXYears",w+1,i)}}function gt(e,n){return ft(e,Me(e),n)}function xt(e,n){const t=()=>S(n==null?void 0:n.in,NaN),s=wt(e);let o;if(s.date){const d=vt(s.date,2);o=jt(d.restDateString,d.year)}if(!o||isNaN(+o))return t();const c=+o;let i=0,l;if(s.time&&(i=Nt(s.time),isNaN(i)))return t();if(s.timezone){if(l=Mt(s.timezone),isNaN(l))return t()}else{const d=new Date(c+i),u=f(0);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return f(c+i+l)}const k={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},pt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,bt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,yt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wt(e){const n={},t=e.split(k.dateTimeDelimiter);let a;if(t.length>2)return n;if(/:/.test(t[0])?a=t[0]:(n.date=t[0],a=t[1],k.timeZoneDelimiter.test(n.date)&&(n.date=e.split(k.timeZoneDelimiter)[0],a=e.substr(n.date.length,e.length))),a){const s=k.timezone.exec(a);s?(n.time=a.replace(s[1],""),n.timezone=s[1]):n.time=a}return n}function vt(e,n){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),a=e.match(t);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,o=a[2]?parseInt(a[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((a[1]||a[2]).length)}}function jt(e,n){if(n===null)return new Date(NaN);const t=e.match(pt);if(!t)return new Date(NaN);const a=!!t[4],s=N(t[1]),o=N(t[2])-1,c=N(t[3]),i=N(t[4]),l=N(t[5])-1;if(a)return Pt(n,i,l)?Dt(n,i,l):new Date(NaN);{const d=new Date(0);return!Ct(n,o,c)||!St(n,s)?new Date(NaN):(d.setUTCFullYear(n,o,Math.max(s,c)),d)}}function N(e){return e?parseInt(e):1}function Nt(e){const n=e.match(bt);if(!n)return NaN;const t=F(n[1]),a=F(n[2]),s=F(n[3]);return Tt(t,a,s)?t*H+a*_+s*1e3:NaN}function F(e){return e&&parseFloat(e.replace(",","."))||0}function Mt(e){if(e==="Z")return 0;const n=e.match(yt);if(!n)return 0;const t=n[1]==="+"?-1:1,a=parseInt(n[2]),s=n[3]&&parseInt(n[3])||0;return Ft(a,s)?t*(a*H+s*_):NaN}function Dt(e,n,t){const a=new Date(0);a.setUTCFullYear(e,0,4);const s=a.getUTCDay()||7,o=(n-1)*7+t+1-s;return a.setUTCDate(a.getUTCDate()+o),a}const kt=[31,null,31,30,31,30,31,31,30,31,30,31];function R(e){return e%400===0||e%4===0&&e%100!==0}function Ct(e,n,t){return n>=0&&n<=11&&t>=1&&t<=(kt[n]||(R(e)?29:28))}function St(e,n){return n>=1&&n<=(R(e)?366:365)}function Pt(e,n,t){return n>=1&&n<=53&&t>=0&&t<=6}function Tt(e,n,t){return e===24?n===0&&t===0:t>=0&&t<60&&n>=0&&n<60&&e>=0&&e<25}function Ft(e,n){return n>=0&&n<=59}const It=e=>{if(!e)return"Date not available";try{const n=xt(e);if(!ke(n))return console.error("Invalid date format:",e),"Invalid date";const t=Math.floor((new Date-n)/(1e3*60*60*24));if(t>=7&&t<14)return"1 week ago";if(t>=14&&t<21)return"2 weeks ago";if(t>=21&&t<28)return"3 weeks ago";if(t>=28)return`${Math.floor(t/7)} weeks ago`;{let a=gt(n,{addSuffix:!0});return a=a.replace(/^about /,""),a}}catch(n){return console.error("Error in formatRelativeDate:",n.message),"Invalid date"}},Wt=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"k":e,At=({handleShareClick:e})=>{const[n]=X(),[t,a]=x.useState(!1),[s,o]=x.useState(!1),c=E(l=>l.home.data);if(!c)return console.error("Error: Video data or ID is missing."),null;const i=l=>{l==="like"?(a(!t),s&&o(!1)):(o(!s),t&&a(!1)),n({videoId:c,voteType:l}).unwrap().then(()=>{console.log(`Vote ${l} successful for video ID ${c}`)}).catch(d=>{console.error("Vote failed:",d)})};return r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>i("like"),className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all ${t?"bg-primary-hover text-neutral-light":"hover:bg-primary-hover/10"}`,children:r.jsx(ue,{className:`w-5 h-5 ${t?"fill-current":""}`})}),r.jsx("button",{onClick:()=>i("dislike"),className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all ${s?"bg-primary-hover text-neutral-light":"hover:bg-primary-hover/10"}`,children:r.jsx(de,{className:`w-5 h-5 ${s?"fill-current":""}`})}),r.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 rounded-full hover:bg-primary-hover/10 transition-all",children:[r.jsx(le,{className:"w-5 h-5"}),r.jsx("span",{children:"Share"})]})]})},Vt=x.memo(At),zt={success:"bg-[#2b4242] border-[#007c8e]",error:"bg-[#675680] border-[#434d6d]",warning:"bg-[#007c8e] border-[#93a4ab]",info:"bg-[#7d8f8b] border-[#c3c6c3]"},Ot=({type:e})=>{const t={success:re,error:se,warning:ae,info:oe}[e];return r.jsx(t,{className:"w-6 h-6 text-white"})},Lt=({type:e="success",title:n,message:t,isOpen:a,onClose:s})=>r.jsx(ne,{children:a&&r.jsx(W.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeOut"},className:"fixed top-4 right-4 z-50 max-w-md w-full",children:r.jsxs("div",{className:`${zt[e]} rounded-lg border-l-4 shadow-lg backdrop-blur-sm bg-opacity-95`,children:[r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Ot,{type:e})}),r.jsxs("div",{className:"ml-3 w-full",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-1",children:n}),r.jsx("p",{className:"text-[#c3c6c3] text-sm",children:t})]}),r.jsx("button",{onClick:s,className:"ml-4 inline-flex text-white hover:text-[#c3c6c3] transition-colors duration-200",children:r.jsx(q,{className:"w-5 h-5"})})]})}),r.jsx(W.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{duration:5,ease:"linear"},className:"h-1 bg-[#007c8e] origin-left",onAnimationComplete:s})]})})}),_t=x.memo(Lt),Ht=e=>{switch(e){case"success":return{title:"Success!",message:"Your changes have been successfully saved."};case"error":return{title:"Error",message:"An error occurred while processing your request."};case"warning":return{title:"Warning",message:"Please review your information before proceeding."};case"info":return{title:"Information",message:"Your session will expire in 5 minutes."};default:return{}}},Rt=({movieId:e,ratingPercentage:n,relativeDate:t,handleShareClick:a,mdata:s})=>{const[o,c]=x.useState(""),[i,l]=x.useState({type:"success",isOpen:!1}),[d,{isLoading:u,isSuccess:h,isError:m}]=B(),{data:p,isLoading:g,isError:w}=J(e),U=async b=>{if(b.preventDefault(),!!o.trim())try{await d({moviesId:e,comment:{movie_id:e,comment:o}}),window.location.reload(),l({type:"success",isOpen:!0}),c("")}catch(Y){console.error("Failed to post comment:",Y)}},P=Array.isArray(p)?p:[];return r.jsxs("div",{className:"text-neutral-light",children:[r.jsxs("div",{className:"max-w-6xl mx-auto xl:mx-0 px-2 py-8",children:[r.jsxs("div",{className:"bg-[#2b4242] backdrop-blur-sm rounded-xl p-6 mb-6 shadow-lg ring-1 ring-white/10",children:[r.jsx("h1",{className:"text-md xl:text-2xl font-bold mb-2 text-neutral-light",children:s==null?void 0:s.movie.title}),r.jsxs("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ie,{className:"w-5 h-5 text-neutral-medium"}),r.jsxs("span",{className:"text-neutral-medium",children:[Wt(s==null?void 0:s.movie.view_count),"%"]})]}),r.jsx("span",{className:"text-neutral-dark",children:"•"}),r.jsx("span",{className:"text-neutral-medium",children:t}),r.jsx("span",{className:"text-neutral-dark",children:"•"}),r.jsxs("span",{className:"flex items-center montserrat",children:[r.jsx(he,{className:"text-2xl text-[#7d8f8b] mr-2"}),n]})]}),r.jsx(Vt,{handleShareClick:a})]})]}),r.jsxs("div",{className:"bg-[#2b4242] max-h-[300px] overflow-y-scroll backdrop-blur-sm rounded-xl p-6 shadow-lg ring-1 ring-white/10",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(ce,{className:"w-5 h-5 text-neutral-medium"}),r.jsxs("h2",{className:"text-xl font-semibold text-neutral-light",children:[P.length," Comments"]})]}),r.jsxs("form",{onSubmit:U,className:"flex gap-4 mb-8",children:[r.jsx("img",{src:"https://i.pinimg.com/736x/54/db/c5/54dbc58a3014e8b438c3c8f149a410c9.jpg",alt:"TopFan",className:"w-10 h-10 rounded-full object-cover ring-2 ring-primary-hover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"text",value:o,onChange:b=>c(b.target.value),placeholder:"Add a comment...",className:"w-full px-4 py-2 rounded-lg bg-[#2b4242] border border-neutral-darker/20 focus:outline-none focus:border-[#007c8e] focus:ring-1 focus:ring-[#007c8e] transition-colors text-neutral-light placeholder-neutral-medium"}),r.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[r.jsx("button",{type:"button",onClick:()=>c(""),className:"px-4 py-2 text-neutral-medium hover:bg-white/10 rounded-full transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#007c8e] cursor-pointer text-neutral-light rounded-full transition-colors disabled:opacity-50",disabled:!o.trim()||u,children:u?"posting":"comment"})]})]})]}),r.jsx("div",{className:"space-y-6 ",children:g?r.jsx("p",{className:"text-neutral-medium",children:"Loading comments..."}):w?r.jsx("p",{className:"text-red-500",children:"Error loading comments. Please try again."}):P.length===0?r.jsx("p",{className:"text-neutral-medium",children:"No comments yet."}):P.map(b=>r.jsxs("div",{className:"flex gap-4",children:[r.jsx("img",{src:"https://i.pinimg.com/736x/54/db/c5/54dbc58a3014e8b438c3c8f149a410c9.jpg",alt:"topfan",className:"w-10 h-10 rounded-full object-cover ring-2 ring-primary-hover"}),r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("h4",{className:"font-semibold text-neutral-light",children:"TopFan"})}),r.jsx("p",{className:"mt-1 text-neutral-muted",children:b.comment})]})]},b.id))})]})]}),r.jsx(_t,{type:i.type,...Ht(i.type),isOpen:i.isOpen,onClose:()=>l(b=>({...b,isOpen:!1}))})]})},Ut=x.memo(Rt),Xt=()=>{const{id:e}=Z(),[n,t]=x.useState(!1),{data:a,isLoading:s}=Q(e),[o]=G(),c=a==null?void 0:a.movie.posted_date,i=It(c),l=ye(a==null?void 0:a.movie.rating_total,a==null?void 0:a.movie.rating_count),d=()=>{t(!0)},u=h=>{o(h)};return s?r.jsx(O,{}):r.jsxs("div",{className:"text-gray-100",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex xl:justify-between",children:r.jsx("div",{className:" w-full p-2",children:r.jsx(L,{height:100,offset:100,once:!0,children:r.jsxs("div",{className:" relative shadow-sm rounded-xl overflow-hidden w-full h-[250px] md:h-[500px] lg:h-[400px] xl:w-[900px] xl:h-[600px]",children:[r.jsx("iframe",{src:a==null?void 0:a.movie.url,width:"100%",height:"100%",title:"Video Player",allowFullScreen:!0,onLoad:a!=null&&a.movie.id?()=>u(a==null?void 0:a.movie.id):void 0}),r.jsx("div",{className:"cursor-not-allowed absolute bottom-0 z-50 right-14 rounded-md bg-transparent w-8 h-8"})]})})})}),r.jsx(Ut,{movieId:e,ratingPercentage:l,relativeDate:i,handleShareClick:d,mdata:a})]}),r.jsxs("div",{className:"mt-10 mx-auto mb-20",children:[r.jsx("h2",{className:"text-xl md:text-2xl head-font text-white mb-4",children:"Related Videos"}),r.jsx("div",{className:"flex-wrap grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 transition-all duration-300 ease-in-out",children:a==null?void 0:a.relatedMovies.map(h=>r.jsx(ve,{isLoading:s,item:h,id:h.id},h.id))})]}),n&&r.jsx(be,{setIsModalOpen:t})]})};export{Xt as default};
